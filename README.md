# WhisperMac

Консольное приложение для macOS, которое записывает голос, преобразует его в текст с помощью OpenAI Whisper API и вставляет результат в буфер обмена или имитирует ввод с клавиатуры.

## Требования

- Node.js 14+
- macOS
- Ключ API OpenAI

## Установка

1. Клонируйте репозиторий:
   ```
   git clone https://github.com/yourusername/whisper-mac.git
   cd whisper-mac
   ```

2. Установите зависимости:
   ```
   npm install
   ```

3. Создайте файл `.env` и добавьте ваш API-ключ OpenAI:
   ```
   OPENAI_API_KEY=your_openai_api_key_here
   ```

4. Сделайте файл исполняемым и создайте глобальную ссылку (необязательно):
   ```
   chmod +x index.js
   npm link
   ```

## Использование

### Базовое использование

```
node index.js
```

По умолчанию приложение запишет 5 секунд голоса и скопирует распознанный текст в буфер обмена.

### Режим записи по горячим клавишам

```
node index.js -k
```

В этом режиме:
1. Нажмите F6 для начала записи
2. Нажмите F6 ещё раз для остановки записи и распознавания текста
3. После распознавания можно снова нажать F6 для новой записи

Вы можете задать свою горячую клавишу:

```
node index.js -k -s "alt+r"
```

### Опции

- `-d, --duration <seconds>` - Задать длительность записи в секундах (по умолчанию 5)
- `-c, --clipboard` - Копировать текст в буфер обмена (по умолчанию)
- `-t, --type` - Имитировать ввод текста с клавиатуры вместо копирования в буфер обмена
- `-k, --hotkey` - Активировать режим записи по горячим клавишам
- `-s, --shortcut <keys>` - Задать свою горячую клавишу (по умолчанию F6)

### Примеры

Запись 10 секунд голоса:
```
node index.js -d 10
```

Запись голоса и ввод текста:
```
node index.js -t
```

Запись по нажатию Ctrl+Space:
```
node index.js -k -s "ctrl+space"
```

## Как это работает

1. Приложение записывает ваш голос через микрофон компьютера
2. Отправляет аудиозапись в OpenAI Whisper API для распознавания
3. Получает распознанный текст и либо копирует его в буфер обмена, либо имитирует ввод с клавиатуры

## Примечания

- Для функции имитации ввода с клавиатуры используется AppleScript, который работает только на macOS
- Для работы приложения требуется доступ к микрофону
- Длительные аудиозаписи могут требовать больше времени для обработки
- Режим горячих клавиш требует sudo-прав на macOS для глобального перехвата нажатий клавиш

## Лицензия

MIT 